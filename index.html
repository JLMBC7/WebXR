<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>WebXR Dumpster Fire</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-particle-system-component@1.1.3/dist/aframe-particle-system-component.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.2/dist/aframe-environment-component.min.js"></script>
  </head>
  <body>
    <a-scene xr-mode-ui="enabled: true" shadow="type: pcfsoft">
      
      <a-assets>
        <a-asset-item id="dumpster" src="https://raw.githubusercontent.com/JLMBC7/WebXR/80b851129898cfd8b6e8c65f7ceb7fce50df60ca/DirtyDumpster.glb"></a-asset-item>
      </a-assets>

      <a-entity environment="preset: urban; dressingAmount: 0; lighting: point"></a-entity>

      <a-entity 
        gltf-model="#dumpster" 
        position="0 0 -3" 
        scale="1.2 1.2 1.2"
        shadow="cast: true; receive: true">
        
        <a-entity 
          position="0 0.4 0" 
          particle-system="preset: flame; color: #ff4400,#ffcc00; size: 0.6; particleCount: 600; velocityValue: 0 2 0; velocitySpread: 0.5 0 0.5">
        </a-entity>

        <a-entity 
          position="0 1.5 0" 
          particle-system="preset: dust; color: #333333; size: 1.5; particleCount: 150; velocityValue: 0 1 0; opacity: 0.4">
        </a-entity>

        <a-entity 
          light="type: point; color: #ff9900; intensity: 2; distance: 8" 
          position="0 1 0"
          animation="property: light.intensity; from: 1.5; to: 2.5; dur: 150; dir: alternate; loop: true; easing: easeInOutSine">
        </a-entity>
      </a-entity>

      <a-entity id="rig" position="0 0 0">
        <a-camera look-controls wasd-controls position="0 1.6 0"></a-camera>
        <a-entity oculus-touch-controls="hand: left"></a-entity>
        <a-entity oculus-touch-controls="hand: right"></a-entity>
      </a-entity>

    </a-scene>
  </body>
</html>
